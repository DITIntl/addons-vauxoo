<?xml version='1.0' encoding='utf-8'?>
<openerp>
    <data>
        <record id="view_foreign_exchange_realization" model="ir.ui.view">
            <field name="name">Foreign Currency Exchange Realization</field>
            <field name="model">foreign.exchange.realization</field>
            <field name="arch" type="xml">
                <form string="Foreign Currency Exchange Realization">
                    <header>
                        <button
                            name="action_prepare"
                            string="Prepare Data"
                            type="object"
                            states='draft'
                            class="oe_highlight" />
                        <button
                            name="action_progress"
                            string="Get Unrecognized G &amp; L on Accounts"
                            type="object"
                            states='prepare'
                            class="oe_highlight" />
                        <button
                            name="action_create_move"
                            string="Create Journal Entry"
                            type="object"
                            states='in_progress'
                            class="oe_highlight" />
                        or
                        <button
                            type='special'
                            special='cancel'
                            string='_Cancel'
                            class="oe_link" />
                        <label for='help'/>
                        <field name='help'/>
                        <field
                            name="state"
                            widget="statusbar"
                            nolabel="1"
                            statusbar_visible="draft,prepare,in_progress,posted"
                            />
                    </header>
                    <group>
                        <group string="Accounting Info">
                            <field
                                name="root_id"
                                attrs="{'readonly': [('state','!=', 'draft')]}"
                                required="1"
                                />
                            <field name="target_move" attrs="{'readonly': [('state','!=', 'draft')]}"/>
                            <field name="journal_id" required="1" attrs="{'readonly': [('state','!=', 'draft')]}"/>
                            <field name="date"/>
                        </group>
                        <group string="Realization Info">
                            <field name="fiscalyear_id" on_change='onchange_fiscalyear(fiscalyear_id)' attrs="{'readonly': [('state','!=', 'draft')]}"/>
                            <field name="period_id" attrs="{'readonly': [('state','!=', 'draft')]}"/>
                            <field name="period_ids" widget="many2many_tags">
                                <tree>
                                    <field name='code'/>
                                    <field name='name'/>
                                </tree>
                            </field>
                            <field name="move_id" readonly="1" attrs="{'invisible': [('state','!=', 'posted')]}"/>
                        </group>
                        <notebook colspan='4'>
                            <page string='Unrealized Gains or Losses' attrs="{'invisible': [('state','not in', ('in_progress','posted'))]}" autofocus="autofocus">
                                <!-- ELEMENTS VISIBLE ONLY IN STAGE X - UNREALIZED GAINS OR LOSSES -->
                                <group>
                                    <group string="Unrealized Gains or Losses" cols="2">
                                        <group colspan='4'>
                                            <h4>
                                            <label
                                                colspan='4'
                                                string="Mauris vestibulum lectus vitae arcu posuere ornare. Maecenas eu tristique mi, vitae efficitur diam. In faucibus cursus lorem. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas."
                                                />
                                            </h4>
                                            <label
                                                colspan='4'
                                                string="Etiam vehicula velit mi, et bibendum odio posuere eu. Nullam magna quam, imperdiet at eros at, hendrerit gravida tortor"
                                                />
                                        </group>
                                        <label
                                            colspan='2'
                                            string="Proin tempus, ante et commodo finibus, dolor orci sagittis libero, eget placerat nibh odio sed sem. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus."
                                            />
                                    </group>
                                </group>
                                <field name='line_ids' nolabel="1">
                                    <tree>
                                        <field name='type'/>
                                        <field name='account_id'/>
                                        <field name='currency_id'/>
                                        <field name='exchange_rate'/>
                                        <field name='foreign_balance'/>
                                        <field name='adjusted_balance'/>
                                        <field name='balance'/>
                                        <field name='unrealized_gain_loss'/>
                                    </tree>
                                </field>
                            </page>
                            <page string='Bank &amp; Cash Accounts' attrs="{'invisible': [('state','not in', ('prepare','in_progress','posted'))]}" autofocus="autofocus">
                                <!-- ELEMENTS VISIBLE ONLY IN STAGE X - BANK ACCOUNTS -->
                                <group>
                                    <group string="Bank &amp; Cash Accounts" cols="2">
                                        <group colspan='4'>
                                            <h4>
                                            <label
                                                colspan='4'
                                                string="We are not yet done! Let us keep moving!"
                                                />
                                            </h4>
                                            <label
                                                colspan='4'
                                                string="These are your Bank &amp; Cash Accounts that need Exchange Currency Rate Difference Realization."
                                                />
                                        </group>
                                        <label
                                            colspan='2'
                                            string="It is mandatory that you fill the field in the right with the accounts that hold your Bank &amp; Cash in Foreign Currency."
                                            />
                                    </group>
                                </group>
                                <group cols="2">
                                    <group colspan='4'>
                                        <label
                                            colspan='2'
                                            string="It is likely wrongfully set Accounts got attribute 'Liquidity' Type. Be warned that you should address this issue before proceeding With 'FILL WITH NEXT STEP' step."
                                            />
                                        <label
                                            colspan='2'
                                            string="Check that those Accounts being presented here to you are really 'Liquidity' Type and Multicurrency"
                                            />
                                        <label
                                            colspan='2'
                                            string="If one of your accounts does not appear here. Open a new Windows Fix your missing account and try to add it again."
                                            />
                                    </group>
                                    <group colspan='4'>
                                        <field name='bk_ids' readonly="1" nolabel="1">
                                            <tree>
                                                <field name='code'/>
                                                <field name='name'/>
                                            </tree>
                                        </field>
                                    </group>
                                </group>
                            </page>
                            <page string='Receivable Accounts' attrs="{'invisible': [('state','not in', ('prepare','in_progress','posted'))]}">
                                <!-- ELEMENTS VISIBLE ONLY IN STAGE X - RECEIVABLE ACCOUNTS -->
                                <group>
                                    <group string="Receivable Accounts" cols="2">
                                        <group colspan='4'>
                                            <h4>
                                            <label
                                                colspan='4'
                                                string="We are not yet done! Let us keep moving!"
                                                />
                                            </h4>
                                            <label
                                                colspan='4'
                                                string="These are your Receivable Accounts that need Exchange Currency Rate Difference Realization."
                                                />
                                        </group>
                                        <label
                                            colspan='2'
                                            string="It is mandatory that you fill the field in the right with the accounts that hold your Receivables in Foreign Currency."
                                            />
                                    </group>
                                </group>
                                <group cols="2">
                                    <group colspan='4'>
                                        <label
                                            colspan='2'
                                            string="It is likely wrongfully set Accounts got attribute 'Receivable' Type. Be warned that you should address this issue before proceeding With 'FILL WITH NEXT STEP' step."
                                            />
                                        <label
                                            colspan='2'
                                            string="Check that those Accounts being presented here to you are really 'Receivable' Type and Multicurrency"
                                            />
                                        <label
                                            colspan='2'
                                            string="If one of your accounts does not appear here. Open a new Windows Fix your missing account and try to add it again."
                                            />
                                    </group>
                                    <group colspan='4'>
                                        <field name='rec_ids' readonly="1" nolabel="1">
                                            <tree>
                                                <field name='code'/>
                                                <field name='name'/>
                                            </tree>
                                        </field>
                                    </group>
                                </group>
                            </page>
                            <page string='Payable Accounts' attrs="{'invisible': [('state','not in', ('prepare','in_progress','posted'))]}">
                                <!-- ELEMENTS VISIBLE ONLY IN STAGE X - PAYABLE ACCOUNTS -->
                                <group>
                                    <group string="Payable Accounts" cols="2">
                                        <group colspan='4'>
                                            <h4>
                                            <label
                                                colspan='4'
                                                string="We are not yet done! Let us keep moving!"
                                                />
                                            </h4>
                                            <label
                                                colspan='4'
                                                string="These are your Payable Accounts that need Exchange Currency Rate Difference Realization."
                                                />
                                        </group>
                                        <label
                                            colspan='2'
                                            string="It is mandatory that you fill the field in the right with the accounts that hold your Payable in Foreign Currency."
                                            />
                                    </group>
                                </group>
                                <group cols="2">
                                    <group colspan='4'>
                                        <label
                                            colspan='2'
                                            string="It is likely wrongfully set Accounts got attribute 'Payable' Type. Be warned that you should address this issue before proceeding With 'FILL WITH NEXT STEP' step."
                                            />
                                        <label
                                            colspan='2'
                                            string="Check that those Accounts being presented here to you are really 'Payable' Type and Multicurrency"
                                            />
                                        <label
                                            colspan='2'
                                            string="If one of your accounts does not appear here. Open a new Windows Fix your missing account and try to add it again."
                                            />
                                    </group>
                                    <group colspan='4'>
                                        <field name='pay_ids' readonly="1" nolabel="1">
                                            <tree>
                                                <field name='code'/>
                                                <field name='name'/>
                                            </tree>
                                        </field>
                                    </group>
                                </group>
                            </page>
                            <page string='Other Info'>
                                <group string="Company Info">
                                    <field
                                        name="company_id"
                                        on_change='onchange_company_id(company_id)'
                                        readonly="1"/>
                                    <field name="currency_id"/>
                                </group>
                            </page>
                        </notebook>
                    </group>
                </form>
            </field>
        </record>

        <record id='action_foreign_exchange_realization' model='ir.actions.act_window'>
            <field name='name'>Foreign Currency Exchange Realization</field>
            <field name='res_model'>foreign.exchange.realization</field>
            <field name='view_type'>form</field>
            <field name='view_mode'>form</field>
            <field name='view_id' ref='view_foreign_exchange_realization'/>
            <field name='target'>inline</field>
        </record>

        <menuitem
            id='menu_currency_tools_root'
            name='Currency Tools'
            parent='account.menu_finance_periodical_processing'
            sequence='9'
            groups='account.group_account_user,account.group_account_manager'
            />
        <menuitem
            id='menu_foreign_exchange_realization'
            parent='menu_currency_tools_root'
            sequence='9'
            groups='account.group_account_user,account.group_account_manager'
            action='action_foreign_exchange_realization'
            />

    </data>
</openerp>
