<?xml version='1.0' encoding='utf-8'?>
<openerp>
    <data>
        <record id="view_foreign_exchange_realization" model="ir.ui.view">
            <field name="name">Foreign Currency Exchange Realization</field>
            <field name="model">foreign.exchange.realization</field>
            <field name="arch" type="xml">
                <form string="Foreign Currency Exchange Realization">
                    <header>
                        <button
                            name="action_get_periods"
                            string="Retrieve Periods"
                            type="object"
                            class="oe_highlight" />
                        <button
                            name="action_get_rec_accounts"
                            string="Retrieve Receivable Accounts"
                            type="object"
                            class="oe_highlight" />
                        <button
                            name="action_get_pay_accounts"
                            string="Retrieve Payable Accounts"
                            type="object"
                            class="oe_highlight" />
                        <button
                            name="action_get_bank_accounts"
                            string="Retrieve Bank &amp; Cash Accounts"
                            type="object"
                            class="oe_highlight" />
                        <button
                            name="create_move"
                            string="Create Journal Entry"
                            type="object"
                            class="oe_highlight" />
                        or
                        <button
                            type='special'
                            special='cancel'
                            string='_Cancel'
                            class="oe_link" />
                        <label for='help'/>
                        <field name='help'/>
                    </header>
                    <group>
                        <group string="Company Info">
                            <label for="company_id"/>
                            <field
                                name="company_id"
                                on_change='onchange_company_id(company_id)'
                                nolabel="1"/>
                            <field name="currency_id"/>
                        </group>
                        <group string="Realization Info">
                            <field name="fiscalyear_id" on_change='onchange_fiscalyear(fiscalyear_id)'/>
                            <field name="period_id"/>
                            <field name="period_ids">
                                <tree>
                                    <field name='code'/>
                                    <field name='name'/>
                                </tree>
                            </field>
                        </group>
                        <group string="Accounting Info">
                            <label for="root_id"/>
                            <field
                                name="root_id"
                                nolabel="1"
                                required="1"
                                />
                            <field name="journal_id"/>
                            <field name="date"/>
                        </group>
                        <group string="Other Info">
                        </group>
                        <!-- ELEMENTS VISIBLE ONLY IN STAGE X - BANK ACCOUNTS -->
                        <group>
                            <group string="Bank &amp; Cash Accounts" cols="2">
                                <group colspan='4'>
                                    <h4>
                                    <label
                                        colspan='4'
                                        string="We are not yet done! Let us keep moving!"
                                        />
                                    </h4>
                                    <label
                                        colspan='4'
                                        string="These are your Bank &amp; Cash Accounts that need Exchange Currency Rate Difference Realization."
                                        />
                                </group>
                                <label
                                    colspan='2'
                                    string="It is mandatory that you fill the field in the right with the accounts that hold your Bank &amp; Cash in Foreign Currency."
                                    />
                            </group>
                        </group>
                        <group cols="2">
                            <group colspan='4'>
                                <label
                                    colspan='2'
                                    string="It is likely wrongfully set Accounts got attribute 'Liquidity' Type. Be warned that you should address this issue before proceeding With 'FILL WITH NEXT STEP' step."
                                    />
                                <label
                                    colspan='2'
                                    string="Check that those Accounts being presented here to you are really 'Liquidity' Type and Multicurrency"
                                    />
                                <label
                                    colspan='2'
                                    string="If one of your accounts does not appear here. Open a new Windows Fix your missing account and try to add it again."
                                    />
                            </group>
                            <group colspan='4'>
                                <field name='bk_ids' nolabel="1">
                                    <tree>
                                        <field name='code'/>
                                        <field name='name'/>
                                    </tree>
                                </field>
                            </group>
                        </group>
                        <!-- ELEMENTS VISIBLE ONLY IN STAGE X - RECEIVABLE ACCOUNTS -->
                        <group>
                            <group string="Receivable Accounts" cols="2">
                                <group colspan='4'>
                                    <h4>
                                    <label
                                        colspan='4'
                                        string="We are not yet done! Let us keep moving!"
                                        />
                                    </h4>
                                    <label
                                        colspan='4'
                                        string="These are your Receivable Accounts that need Exchange Currency Rate Difference Realization."
                                        />
                                </group>
                                <label
                                    colspan='2'
                                    string="It is mandatory that you fill the field in the right with the accounts that hold your Receivables in Foreign Currency."
                                    />
                            </group>
                        </group>
                        <group cols="2">
                            <group colspan='4'>
                                <label
                                    colspan='2'
                                    string="It is likely wrongfully set Accounts got attribute 'Receivable' Type. Be warned that you should address this issue before proceeding With 'FILL WITH NEXT STEP' step."
                                    />
                                <label
                                    colspan='2'
                                    string="Check that those Accounts being presented here to you are really 'Receivable' Type and Multicurrency"
                                    />
                                <label
                                    colspan='2'
                                    string="If one of your accounts does not appear here. Open a new Windows Fix your missing account and try to add it again."
                                    />
                            </group>
                            <group colspan='4'>
                                <field name='rec_ids' nolabel="1">
                                    <tree>
                                        <field name='code'/>
                                        <field name='name'/>
                                    </tree>
                                </field>
                            </group>
                        </group>
                        <!-- ELEMENTS VISIBLE ONLY IN STAGE X - PAYABLE ACCOUNTS -->
                        <group>
                            <group string="Payable Accounts" cols="2">
                                <group colspan='4'>
                                    <h4>
                                    <label
                                        colspan='4'
                                        string="We are not yet done! Let us keep moving!"
                                        />
                                    </h4>
                                    <label
                                        colspan='4'
                                        string="These are your Payable Accounts that need Exchange Currency Rate Difference Realization."
                                        />
                                </group>
                                <label
                                    colspan='2'
                                    string="It is mandatory that you fill the field in the right with the accounts that hold your Payable in Foreign Currency."
                                    />
                            </group>
                        </group>
                        <group cols="2">
                            <group colspan='4'>
                                <label
                                    colspan='2'
                                    string="It is likely wrongfully set Accounts got attribute 'Payable' Type. Be warned that you should address this issue before proceeding With 'FILL WITH NEXT STEP' step."
                                    />
                                <label
                                    colspan='2'
                                    string="Check that those Accounts being presented here to you are really 'Payable' Type and Multicurrency"
                                    />
                                <label
                                    colspan='2'
                                    string="If one of your accounts does not appear here. Open a new Windows Fix your missing account and try to add it again."
                                    />
                            </group>
                            <group colspan='4'>
                                <field name='pay_ids' nolabel="1">
                                    <tree>
                                        <field name='code'/>
                                        <field name='name'/>
                                    </tree>
                                </field>
                            </group>
                        </group>
                        <!-- ELEMENTS VISIBLE ONLY IN STAGE X - UNREALIZED GAINS OR LOSSES -->
                        <group string="Unrealized Gains or Losses" cols="2" colspan='4'>
                            <field name='line_ids' nolabel="1">
                                <tree>
                                    <field name='type'/>
                                    <field name='account_id'/>
                                    <field name='currency_id'/>
                                    <field name='exchange_rate'/>
                                    <field name='foreign_balance'/>
                                    <field name='adjusted_balance'/>
                                    <field name='balance'/>
                                    <field name='unrealized_gain_loss'/>
                                </tree>
                            </field>
                        </group>
                    </group>
                </form>
            </field>
        </record>

        <record id='action_foreign_exchange_realization' model='ir.actions.act_window'>
            <field name='name'>Foreign Currency Exchange Realization</field>
            <field name='res_model'>foreign.exchange.realization</field>
            <field name='view_type'>form</field>
            <field name='view_mode'>form</field>
            <field name='view_id' ref='view_foreign_exchange_realization'/>
            <field name='target'>inline</field>
        </record>

        <menuitem
            id='menu_currency_tools_root'
            name='Currency Tools'
            parent='account.menu_finance_periodical_processing'
            sequence='9'
            groups='account.group_account_user,account.group_account_manager'
            />
        <menuitem
            id='menu_foreign_exchange_realization'
            parent='menu_currency_tools_root'
            sequence='9'
            groups='account.group_account_user,account.group_account_manager'
            action='action_foreign_exchange_realization'
            />

    </data>
</openerp>
